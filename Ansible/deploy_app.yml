---
- name: Deploy and Run App
  hosts: web
  become: true

  tasks:
    - name: Clone Git
      git:
        repo: https://github.com/quinquinc/noteapp2.git
        dest: /home/admin/app
    - name: Installation tkinter
      command: apt-get -y install python3-tk

    - name: Installation customtkinter
      command: pip3 install customtkinter

    - name: Installation Mysql Python
      command: pip3 install mysql-connector-python

    - name: Installation module python
      command: pip3 install -r /home/admin/app/App/Projet/requirements.txt
        # requirements: /home/admin/app/App/Projet/requirements.txt
        # extra_args: -r

    - name: Run the application
      command: python3 /home/admin/app/App/Projet/AppPython/Setupwithcol.py

    - name: pause pour intervention utilisateur
      pause:
        prompt: "Faire ce qui est demand√©."

    
